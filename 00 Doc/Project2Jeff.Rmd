---
title: "Project 2"
author: "Jeffrey Zhang and Jaclyn Nguyen"
date: "Monday, February 16, 2015"
output: html_document
---

Project 2 required Jeffrey and I to import a large dataset into Oracle Server and call the data into RStudio for analysis. Below will describe the dataset and the following analysis. 

Dataset: Jcn565_311Calls

Oracle SQL Developer: C##CS329E_JCN565

Rows: 1804 observations

JCN565_311Calls is a collection of 311 Calls in New York City. 311 Call systems traditionally have been used to report incidents where the immediate presence of a police officer is not required, examples such as quality-of-life problems. The dataset will contain the dates, location, office of contact, complaint type, etc.of the 311 call.


![Figure 1. Table Variables](figure/variablenames.png)
__Figure 1. Table Variables__

Figure 1 displays the table variables used for this project.



__1. Loading of R packages: RCurl, ggplot2, dplyr, tidyr (R code not shown)__

```{r, include=FALSE}
library(RCurl)
library (ggplot2)
require(dplyr)
require(tidyr)

```

__2. Call for JCN565_311Calls from the SQL Server using a data frame query__

```{r}
source("../01 Data/data_frame_orcl.R", echo = TRUE)
```
![Figure 2. Sample](figure/sample.png)

Figure 2. Sample of dataset JCN565_311Calls

Figure 2 showcases a sample set of the dataset that we used for analysis. Please note the missing variables. Below shows a simple breakdown of the complaint types grouped by the NYC Boroughs. This gives us a better idea of request/complaints by location.

``` {r}
source('../02 Data Wrangling/DR5.R',echo = TRUE)

```

__3. Analysis of JCN565_311Calls__
```{r}
source ('../03 Visualization/plot NYC.R', echo = TRUE)
```

Coorindate points (Longitude and Longitude) from callers were documented and was used to help showcase the boroughs in New York City. This visual above was created for that purpose.


```{r}
source('../03 Visualization/plotagency.R', echo = TRUE)
```

Graph above breaks down which agency receives the most 311 calls.

```{r}
source('../03 Visualization/complaint.R', echo = TRUE)
```

You are able to see that Department of Housing Preservation and Development (HPD) received the most complaints. From there, we analyzed to see what complaint types were most profound within HPD.



From graph above, we know overall HEAT/HOT WATER problem is most severe, now we would want to know in which borough is affect the most. Dataset df1 is imported, which is a date frame that contains information about HEAT/HOT WATER problem. 

```{r}
source ('../01 Data/df1.R')
tbl_df(df1)
source('../02 Data Wrangling/DR1.R',echo = T)
```

Now we know BRONX, BROOKLYN, and NEW YORK has much more complaints than other boroughs. We will now focus on these three boroughs to see which area is most severe in each ityc since there are too many zipcodes, it is better to represent them by each city and use the histgram

For BRONX:
```{r}
# import df2
source ('../01 Data/df2.R')
tbl_df(df2)
#plot 
source('../02 Data Wrangling/DR2.R',echo = T)
```

For BROOKLYN:
```{r}
source ('../01 Data/df3.R')
tbl_df(df3)
# plot 
source('../02 Data Wrangling/DR3.R',echo = T)
```

For NEW YORK:
```{r}
source ('../01 Data/df4.R')
tbl_df(df4)
# plot 
source('../02 Data Wrangling/DR4.R',echo = T)

```
