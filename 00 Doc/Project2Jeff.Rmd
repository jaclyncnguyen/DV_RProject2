---
title: "Project 2"
author: "Jeffrey Zhang and Jaclyn Nguyen"
date: "Monday, February 16, 2015"
output: html_document
---

Project 2 required Jeffrey and I to import a large data set onto Oracle Server and call the data into RStudio to analyze. 

Dataset: Jcn565-311Calls

DeScrIBE DATA 

__Loading of necessary R packages: RCurl, ggplot2 (R code not shown)__

```{r, include=FALSE}
library(RCurl)
library (ggplot2)

```{r}
source("../01 Data/data_frame_orcl.R", echo = TRUE)
```

You can also embed plots, for example:

```{r}
ggplot(df, aes(x = LATITUDE, y = LONGITUDE, color = BOROUGH)) + geom_point() +  scale_y_discrete(breaks=df$LATITUDE) + scale_x_discrete(breaks=df$LONGITUDE)
ggplot(data = df) + geom_histogram(aes(x = AGENCY)) + ggtitle("311 Calls to Different Types of Agencies")


complaint <- subset(df, AGENCY == "HPD", select = c(COMPLAINT_TYPE))
View(complaint)
ggplot (data = complaint, main = "HPD Complaint Breakdown") + geom_histogram(aes(x = COMPLAINT_TYPE)) + theme(axis.text.x = element_text(angle = 90, hjust = 1)) + ggtitle("HPD Complaint Breakdown")

```
``` {r, include = FALSE}
require(dplyr)
require(tidyr)

tbl_df(df)
#df %>% select(ADDRESS_TYPE, BOROUGH) %>% filter(ADDRESS_TPYE == "ADDRESS") %>% tbl_df
df %>% group_by(BOROUGH, COMPLAINT_TYPE)  %>% summarise(sum = sum(COMPLAINT_TYPE)) %>% tbl_df
```

```{r}
# From graph above, we know overall HEAT/HOT WATER problem is most severe, now we want to know in which citys this problem is most significant
# import df1 in Data Folder, which is a df containging all info about HEAT/HOT WATER problem
source ('../01 Data/df1.R')
tbl_df(df1)
# plot
source('../02 Data Wrangling/DR1.R',echo = T)

# Now we know, in BRONX,BROOKLYN and NEW YORK, there are much more complaints than other citis
# So we will focus on these three cities to see which areas are most severe in each city
# since there are too many zipcodes, it is better to represent them by each city and use the histgram

# For BRONX
# import df2
source ('../01 Data/df2.R')
tbl_df(df2)
#plot 
source('../02 Data Wrangling/DR2.R',echo = T)

# For BROOKLYN import df3
source ('../01 Data/df3.R')
tbl_df(df3)
# plot 
source('../02 Data Wrangling/DR3.R',echo = T)

# For NEW YORK import df4
source ('../01 Data/df4.R')
tbl_df(df4)
# plot 
source('../02 Data Wrangling/DR4.R',echo = T)

```
